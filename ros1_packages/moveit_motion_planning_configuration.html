<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoveIt Configuration &mdash; Interbotix X-Series Arms Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx_collapse.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tr_style.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Perception Configuration" href="perception_pipeline_configuration.html" />
    <link rel="prev" title="ROS Controllers Configuration" href="ros_control.html" />
   
  <script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "nglikgkapv");
  </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  <div class="sidebartitle-docs-home">
    <a href="https://docs.trossenrobotics.com/" target="_blank" class="icon icon-home">
      &nbsp;Trossen Robotics Docs Home
    </a>
    <div class="sidebartitle-docs-home-hr">
      <hr>
    </div>
  </div>
  

          
          
          <a href="../index.html">
            
              <img src="../_static/logo_xsarms.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../specifications.html">Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ros_interface.html">ROS Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_ros_interface.html">Python-ROS Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab_ros_interface.html">MATLAB-ROS Interface</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../ros1_packages.html">ROS 1 Open Source Packages</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="arm_descriptions.html">Arm Descriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="arm_control.html">Arm Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="gazebo_simulation_configuration.html">Gazebo Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="ros_control.html">ROS Controllers Configuration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">MoveIt Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="perception_pipeline_configuration.html">Perception Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="moveit_interface_and_api.html">MoveIt Interface and API</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_demos.html">Python Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="matlab_demos.html">MATLAB Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="joystick_control.html">Joystick Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="record_and_playback.html">Record And Playback</a></li>
<li class="toctree-l2"><a class="reference internal" href="arm_diagnostic_tool.html">Arm Diagnostic Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="arm_diagnostic_listener.html">Arm Diagnostic Listener</a></li>
<li class="toctree-l2"><a class="reference internal" href="pid_gains_test_environment.html">PID Gains Test Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="arm_puppeteering.html">Arm Puppeteering</a></li>
<li class="toctree-l2"><a class="reference internal" href="dual_arm_control.html">Dual Arm Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="dual_arm_joystick_control.html">Dual Arm Joystick Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ros1_packages.html#contributing">Contributing</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ros2_packages.html">ROS 2 Open Source Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Interbotix X-Series Manipulators Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../ros1_packages.html">ROS 1 Open Source Packages</a></li>
      <li class="breadcrumb-item active">MoveIt Configuration</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/TrossenRobotics/interbotix_xsarms_docs/blob/main/docs/ros1_packages/moveit_motion_planning_configuration.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="moveit-configuration">
<h1>MoveIt Configuration<a class="headerlink" href="#moveit-configuration" title="Permalink to this headline"></a></h1>
<a href="https://github.com/Interbotix/interbotix_ros_manipulators/tree/main/interbotix_ros_xsarms/interbotix_xsarm_moveit"
    class="docs-view-on-github-button"
    target="_blank">
    <img src="../_static/GitHub-Mark-Light-32px.png"
        class="docs-view-on-github-button-gh-logo">
    View Package on GitHub
</a><div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>This package contains the necessary config files to get any of the many Interbotix X-Series arms
working with MoveIt. Originally, the MoveIt Setup Assistant wizard was used to generate a MoveIt
package for each robot individually. The packages were then all merged into one and the launch
files modified so that specific arguments (like <code class="docutils literal notranslate"><span class="pre">robot_model</span></code>, <code class="docutils literal notranslate"><span class="pre">dof</span></code>, and <code class="docutils literal notranslate"><span class="pre">robot_name</span></code>) could
be passed down to load the right config files (such as the SRDFs). Additionally, this package makes
use of the FollowJointTrajectory interface which seems to work pretty well in both Gazebo and on
the physical robot. A ‘master’ launch file was then written to allow a user to choose whether to
have MoveIt work with the simulated version, the physical robot hardware, or a MoveIt generated
fake robot.</p>
</div>
<div class="section" id="structure">
<h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline"></a></h2>
<img alt="../_images/xsarm_moveit_flowchart.png" class="align-center" src="../_images/xsarm_moveit_flowchart.png" />
<p>As shown above, this package builds on top of the <cite>interbotix_xsarm_gazebo</cite>,
<cite>interbotix_xsarm_control</cite>, and <cite>interbotix_xsarm_descriptions</cite> packages. To get familiar with
those packages, please refer to their documentation. Regarding the MoveIt specific nodes, they are
described below:</p>
<ul class="simple">
<li><strong>move_group</strong> - responsible for planning the trajectories needed to achieve a particular
arm/gripper pose</li>
<li><strong>rviz</strong> - responsible for showing the robot model and including the MoveIt MotionPlanning
plugin</li>
</ul>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline"></a></h2>
<p>To run this package on the physical robot, type the line below in a terminal (assuming the
PincherX-100 is being launched). Note that if you’re using a 5 or 6 dof arm, you should set the
<code class="docutils literal notranslate"><span class="pre">dof</span></code> launch file argument appropriately.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>roslaunch<span class="w"> </span>interbotix_xsarm_moveit<span class="w"> </span>xsarm_moveit.launch<span class="w"> </span>robot_model:<span class="o">=</span>px100<span class="w"> </span>use_actual:<span class="o">=</span><span class="nb">true</span><span class="w"> </span>dof:<span class="o">=</span><span class="m">4</span>
</pre></div>
</div>
<p>If running this package on a Gazebo simulated robot, type the line below in a terminal (assuming
the ReactorX-200 is being launched). Don’t forget to unpause the Gazebo physics afterwards or
MoveIt will never load!</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>roslaunch<span class="w"> </span>interbotix_xsarm_moveit<span class="w"> </span>xsarm_moveit.launch<span class="w"> </span>robot_model:<span class="o">=</span>rx200<span class="w"> </span>use_gazebo:<span class="o">=</span><span class="nb">true</span>
</pre></div>
</div>
<p>If running this package on a MoveIt generated fake robot, type the line below in a terminal
(assuming the WidowX-250 is being launched).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>roslaunch<span class="w"> </span>interbotix_xsarm_moveit<span class="w"> </span>xsarm_moveit.launch<span class="w"> </span>robot_model:<span class="o">=</span>wx250<span class="w"> </span>use_fake:<span class="o">=</span><span class="nb">true</span>
</pre></div>
</div>
<p>This is the bare minimum needed to get up and running. Take a look at the table below to see how to
further customize with other launch file arguments.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="20%" />
<col width="60%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
<th class="head">Default Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>robot_model</td>
<td>model type of the Interbotix Arm such as ‘wx200’ or ‘rx150’</td>
<td>“”</td>
</tr>
<tr class="row-odd"><td>robot_name</td>
<td>name of the robot (typically equal to <code class="docutils literal notranslate"><span class="pre">robot_model</span></code>, but could be anything)</td>
<td>$(arg robot_model)</td>
</tr>
<tr class="row-even"><td>base_link_frame</td>
<td>name of the ‘root’ link on the arm; typically ‘base_link’, but can be changed if attaching the arm to a mobile base that already has a ‘base_link’ frame</td>
<td>base_link’</td>
</tr>
<tr class="row-odd"><td>show_ar_tag</td>
<td>if true, the AR tag mount is included in the ‘robot_description’ parameter; if false, it is left out; set to true if using the AR tag mount in your project</td>
<td>false</td>
</tr>
<tr class="row-even"><td>use_world_frame</td>
<td>set this to true if you would like to load a ‘world’ frame to the ‘robot_description’ parameter which is located exactly at the ‘base_link’ frame of the robot; if using multiple robots or if you would like to attach the ‘base_link’ frame of the robot to a different frame, set this to false</td>
<td>true</td>
</tr>
<tr class="row-odd"><td>external_urdf_loc</td>
<td>the file path to the custom urdf.xacro file that you would like to include in the Interbotix robot’s urdf.xacro file</td>
<td>“”</td>
</tr>
<tr class="row-even"><td>external_srdf_loc</td>
<td>the file path to the custom srdf.xacro file that you would like to include in the Interbotix robot’s srdf.xacro file. Note that this should only contain ‘disable collision’ tags for collisions between the original Interbotix Arm and other links that are defined in the file specified by <code class="docutils literal notranslate"><span class="pre">external_urdf_loc</span></code></td>
<td>“”</td>
</tr>
<tr class="row-odd"><td>mode_configs</td>
<td>the file path to the ‘mode config’ YAML file</td>
<td>refer to <a class="reference external" href="https://github.com/Interbotix/interbotix_ros_manipulators/blob/main/interbotix_ros_xsarms/interbotix_xsarm_moveit/launch/xsarm_moveit.launch" rel="noopener noreferrer" target="_blank">xsarm_moveit.launch</a></td>
</tr>
<tr class="row-even"><td>use_moveit_rviz</td>
<td>a boolean that if true, displays RViz with the MoveIt plugin; if false, MoveIt runs in a headless state</td>
<td>true</td>
</tr>
<tr class="row-odd"><td>rviz_frame</td>
<td>defines the fixed frame parameter in RViz. Note that if ‘use_world_frame’ is False, this parameter should be changed to a frame that exists</td>
<td>world</td>
</tr>
<tr class="row-even"><td>use_gazebo</td>
<td>launch MoveIt with a Gazebo simulated robot</td>
<td>false</td>
</tr>
<tr class="row-odd"><td>use_actual</td>
<td>launch MoveIt with the physical robot</td>
<td>false</td>
</tr>
<tr class="row-even"><td>use_fake</td>
<td>launch MoveIt with a MoveIt generated fake robot</td>
<td>false</td>
</tr>
<tr class="row-odd"><td>dof</td>
<td>the degrees of freedom of the arm; while the majority of the arms have 5 dof, others have 4 or 6 dof</td>
<td>5</td>
</tr>
<tr class="row-even"><td>world_name</td>
<td>the file path to the Gazebo ‘world’ file to load (if simulating)</td>
<td>refer to <a class="reference external" href="https://github.com/Interbotix/interbotix_ros_manipulators/blob/main/interbotix_ros_xsarms/interbotix_xsarm_moveit/launch/xsarm_moveit.launch" rel="noopener noreferrer" target="_blank">xsarm_moveit.launch</a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline"></a></h2>
<p>Once the MoveIt GUI is fully loaded, take a look at the available planning groups. There should be
two of them - one called ‘interbotix_arm’ and the other called ‘interbotix_gripper’. The
‘interbotix_arm’ group contains the joints needed to plan the trajectories for the whole arm
(excluding the gripper) while the ‘interbotix_gripper’ group contains the joints needed to plan the
trajectories for the gripper (based on the linear distance from the ‘left_finger_link’ to the
‘fingers_link’). There are a few saved poses for each of these groups that be executed such as
‘home’, ‘sleep’, and ‘upright’ poses for the ‘interbotix_arm’ group, and ‘open’, ‘close’, and
‘home’ for the ‘interbotix_gripper’ group (‘home’ just moves the gripper such that the angular
position of the motor is at 0 radians). Also, it should be noted that the gripper frame of
reference is located at the ‘ee_gripper_link’.</p>
<p>Additionally, by default, the MoveIt GUI does not display the green or orange robots that represent
the start and goal states for the arm respectively. To display them, navigate to the
<strong>MotionPlanning -&gt; Planning Request</strong> dropdown in RViz and check the <strong>Query Start State</strong> and
<strong>Query Goal State</strong> checkboxes.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ros_control.html" class="btn btn-neutral float-left" title="ROS Controllers Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="perception_pipeline_configuration.html" class="btn btn-neutral float-right" title="Perception Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Trossen Robotics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>