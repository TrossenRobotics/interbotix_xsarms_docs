<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MATLAB-ROS Interface &mdash; Interbotix X-Series Arms Documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/sphinx_collapse.css" type="text/css" />
      <link rel="stylesheet" href="_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="_static/tr_style.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/clipboard.min.js"></script>
        <script src="_static/copybutton.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="ROS 1 Open Source Packages" href="ros1_packages.html" />
    <link rel="prev" title="Python-ROS Interface" href="python_ros_interface.html" />
   
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe
      src="https://www.googletagmanager.com/ns.html?id=GTM-PZQLS2V"
      height="0"
      width="0"
      style="display:none;visibility:hidden">
    </iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
  <div class="sidebartitle-docs-home">
    <a href="https://docs.trossenrobotics.com/" target="_blank" class="icon icon-home">
      &nbsp;Trossen Robotics Docs Home
    </a>
    <div class="sidebartitle-docs-home-hr">
      <hr>
    </div>
  </div>
  

          
          
          <a href="index.html">
            
              <img src="_static/logo_xsarms.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="specifications.html">Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="ros_interface.html">ROS Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_ros_interface.html">Python-ROS Interface</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">MATLAB-ROS Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#setup">Setup</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#building-the-interbotix-ros-messages">Building the Interbotix ROS Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-your-matlab-workspace">Setting up your MATLAB Workspace</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#terminology">Terminology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#transforms">Transforms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#timing-parameters">Timing Parameters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#functions">Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#set-ee-pose-matrix">set_ee_pose_matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-ee-pose-components">set_ee_pose_components</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-ee-cartesian-trajectory">set_ee_cartesian_trajectory</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tips-best-practices">Tips &amp; Best Practices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#control-sequence">Control Sequence</a></li>
<li class="toctree-l3"><a class="reference internal" href="#making-startup-easier">Making Startup Easier</a></li>
<li class="toctree-l3"><a class="reference internal" href="#miscellaneous-tips">Miscellaneous Tips</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#matlab-runs-slowly-after-some-time">MATLAB runs slowly after some time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#incoming-connection-failed">Incoming Connection Failed</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cannot-connect-to-ros-master">Cannot connect to ROS master</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#video-tutorials">Video Tutorials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#working-with-the-interbotix-matlab-ros-api">Working with the Interbotix MATLAB-ROS API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ros1_packages.html">ROS 1 Open Source Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="ros2_packages.html">ROS 2 Open Source Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Interbotix X-Series Manipulators Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">MATLAB-ROS Interface</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/TrossenRobotics/interbotix_xsarms_docs/blob/main/docs/matlab_ros_interface.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="matlab-ros-interface">
<h1>MATLAB-ROS Interface<a class="headerlink" href="#matlab-ros-interface" title="Permalink to this headline"></a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Interbotix MATLAB-ROS Interface requires that the <a class="reference internal" href="ros_interface.html"><span class="doc">ROS Interface</span></a> has already been installed.</p>
</div>
<p>For usage and structure information on the MATLAB interface that builds on top of ROS, check out
the <a class="reference internal" href="ros1_packages/matlab_demos.html"><span class="doc">MATLAB Demos</span></a> page. Further documentation of the MATLAB
API’s functionality can be found on this page. Note that you can check the source code methods’
docstrings for information on each method.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Using this interface requires that your machine has Python 2.7 if your ROS distribution is
Melodic or Python 3.9 if your ROS distribution is Noetic. You may be able to run if your
Python’s major version matches what’s required. Visit MATLAB’s <a class="reference external" href="https://www.mathworks.com/help/ros/gs/ros-system-requirements.html" rel="noopener noreferrer" target="_blank">ROS System Requirements page</a>
for more information.</p>
</div>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">The MATLAB-ROS API is not compatible with Gazebo-simulation robots.</p>
</div>
<div class="admonition attention">
<p class="first admonition-title">Attention</p>
<p class="last">The MATLAB-ROS API is currently only compatible with the ROS 1 interface. ROS 2 support is not
planned at this time.</p>
</div>
<div class="section" id="setup">
<span id="matlab-ros-interface-label"></span><h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline"></a></h2>
<p>Before you are able to use the MATLAB-ROS API, you must first build the Interbotix messages and
setup your MATLAB workspace. Convenience scripts have been provided to make this process easier.</p>
<div class="section" id="building-the-interbotix-ros-messages">
<h3>Building the Interbotix ROS Messages<a class="headerlink" href="#building-the-interbotix-ros-messages" title="Permalink to this headline"></a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You only have to build the Interbotix ROS messages once in a workspace.</p>
</div>
<p>The process for building the messages is as follows:</p>
<ol class="arabic simple">
<li>Open MATLAB.</li>
<li>Navigate to the <cite>matlab_demos</cite> directory.</li>
<li>Run the function <code class="docutils literal notranslate"><span class="pre">interbotix_build_ros1_messages</span></code> from your MATLAB console. Make sure that
you have not run the <code class="docutils literal notranslate"><span class="pre">pyenv</span></code> command before doing so.</li>
<li>The script will perform the following actions to build the messages and test
that they work properly:<ol class="loweralpha">
<li>Check that Interbotix custom messages do not already exist on your machine.</li>
<li>Run <code class="docutils literal notranslate"><span class="pre">rosgenmsg()</span></code> in the <em>interbotix_ros_core/interbotix_ros_xseries</em> directory. This
process might take a few minutes. The process of building ROS messages in MATLAB is
documented on MathWorks’ website in the articles <a class="reference external" href="https://www.mathworks.com/help/ros/ug/create-custom-messages-from-ros-package.html" rel="noopener noreferrer" target="_blank">Create Custom Messages from ROS Package</a>
and <a class="reference external" href="https://www.mathworks.com/help/ros/ug/ros-custom-message-support.html" rel="noopener noreferrer" target="_blank">ROS Custom Message Support</a>.</li>
<li>Add the directory in which the messages were build to the MATLAB path and save it.</li>
<li>Clear all classes and rehash the toolbox cache.</li>
<li>Check that an <code class="docutils literal notranslate"><span class="pre">interbotix_xs_sdk/</span></code> message appears in the list generated from the
<code class="docutils literal notranslate"><span class="pre">rosmsg(&quot;list&quot;)</span></code> command.</li>
<li>If this process works, the function will return true. Otherwise, it will return false with
a message.</li>
</ol>
</li>
<li>Close MATLAB.</li>
</ol>
</div>
<div class="section" id="setting-up-your-matlab-workspace">
<h3>Setting up your MATLAB Workspace<a class="headerlink" href="#setting-up-your-matlab-workspace" title="Permalink to this headline"></a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You must follow this process every time you open a new session of MATLAB. See <a class="reference internal" href="#making-startup-easier">Making Startup
Easier</a> for tips on simplifying this process.</p>
</div>
<p>The process for setting up your MATLAB workspace is as follows:</p>
<ol class="arabic simple">
<li>Open MATLAB.</li>
<li>Navigate to the <cite>matlab_demos</cite> directory.</li>
<li>Run the function <code class="docutils literal notranslate"><span class="pre">interbotix_matlab_ros_setup()</span></code> from your MATLAB
console.</li>
<li>The script will perform the following actions to setup your workspace and test that the demos
will work.<ol class="loweralpha">
<li>Add the Interbotix ROS messages to the MATLAB path.</li>
<li>Add the Interbotix xs modules to the MATLAB path.</li>
<li>Add the Modern Robotics MATLAB library to the MATLAB path.</li>
<li>If this process works, the function will return true. Otherwise, it will
return false with a message.</li>
</ol>
</li>
<li>You can now run the demo MATLAB scripts, or develop your own.</li>
</ol>
</div>
</div>
<div class="section" id="terminology">
<h2>Terminology<a class="headerlink" href="#terminology" title="Permalink to this headline"></a></h2>
<div class="section" id="transforms">
<h3>Transforms<a class="headerlink" href="#transforms" title="Permalink to this headline"></a></h3>
<img alt="_images/xsarm_demos_frames.png" class="align-center" src="_images/xsarm_demos_frames.png" style="width: 40%;" />
<p>End-effector poses are specified from <cite>/&lt;robot_name&gt;/ee_gripper_link</cite> (a.k.a the ‘Body’ frame) to
<cite>/&lt;robot_name&gt;/base_link</cite> (a.k.a the ‘Space’ frame). In the code documentation, this transform is
knows as <strong>T_sb</strong> (i.e. the transform that specifies the ‘Body’ frame ‘b’ in terms of the ‘Space’
frame ‘s’). In the image above, you can see both of these frames. The X axes are in red, the Y axes
are in green, and the Z axes are in blue. The rotation and translation information is stored in a
<a class="reference external" href="https://modernrobotics.northwestern.edu/nu-gm-book-resource/3-3-1-homogeneous-transformation-matrices/" rel="noopener noreferrer" target="_blank">homogeneous transformation matrix</a>.</p>
<div class="math notranslate nohighlight">
\[\begin{split}T =
\begin{bmatrix}
    R &amp; p \\
    0 &amp; 1
\end{bmatrix}
=
\begin{bmatrix}
    r_{11} &amp; r_{12} &amp; r_{13} &amp; p_1 \\
    r_{21} &amp; r_{22} &amp; r_{23} &amp; p_2 \\
    r_{31} &amp; r_{32} &amp; r_{33} &amp; p_3 \\
    0     &amp; 0      &amp; 0       &amp; 1 \\
\end{bmatrix}\end{split}\]</div>
<p>In a homogeneous transformation matrix, the first three rows and three columns <span class="math notranslate nohighlight">\(R\)</span> define a
3-dimensional rotation matrix that describes the orientation of the ‘Body’ frame with respect to
the ‘Space’ frame. The first three rows and the fourth column <span class="math notranslate nohighlight">\(p\)</span> of the matrix represent the
translational position (i.e. xyz) of the ‘Body’ frame with respect to the ‘Space’ frame. The fourth
row of the matrix is always [0 0 0 1] for matrix multiplication purposes.</p>
<p>You will see two other homogeneous transformation matrices in the code: <strong>T_sd</strong> and <strong>T_sy</strong>.
<strong>T_sd</strong> defines the desired end-effector pose with respect to the ‘Space’ frame. This
transformation is used in methods like <code class="docutils literal notranslate"><span class="pre">set_ee_pose_matrix</span></code>, where a single desired pose is to be
solved for. <strong>T_sy</strong> is a transform from the ‘Body’ frame to a virtual frame with the exact same x,
y, z, roll, and pitch as the ‘Space’ frame. However, it contains the ‘yaw’ of the ‘Body’ frame.
Thus, if the end-effector is located at xyz = [0.2, 0.2, 0.2] with respect to the ‘Space’ frame,
this converts to xyz = [0.2828, 0, 0.2] with respect to the virtual frame of the <strong>T_sy</strong>
transformation. This convention helps simplify how you think about the relative movement of the
end-effector. The method <code class="docutils literal notranslate"><span class="pre">set_ee_cartesian_trajectory</span></code> uses <strong>T_sy</strong> to command relative movement
of the end-effector using the end-effector’s yaw as a basis for its frame of reference.</p>
</div>
<div class="section" id="timing-parameters">
<h3>Timing Parameters<a class="headerlink" href="#timing-parameters" title="Permalink to this headline"></a></h3>
<p>The MATLAB API uses four different timing parameters to shape the time profile of movements.</p>
<p>The first two parameters are used to determine the time profile of the arm when completing moves
from one pose to another. These can be set in the constructor of the object, or by using the
<code class="docutils literal notranslate"><span class="pre">set_trajectory_time</span></code> method.</p>
<ul class="simple">
<li><strong>moving_time</strong> - duration in seconds it should take for all joints in the arm to complete one
move.</li>
<li><strong>accel_time</strong> - duration in seconds it should take for all joints in the arm to
accelerate/decelerate to/from max speed.</li>
</ul>
<p>The second two parameters are used to define the time profile of waypoints within a trajectory.
These are used in functions that build trajectories consisting of a series of waypoints such as
<code class="docutils literal notranslate"><span class="pre">set_ee_cartesian_trajectory</span></code>.</p>
<ul class="simple">
<li><strong>wp_moving_time</strong> - duration in seconds that each waypoint in the trajectory should move.</li>
<li><strong>wp_accel_time</strong> - duration in seconds that each waypoint in the trajectory should be
accelerating/decelerating (must be equal to or less than half of <strong>wp_moving_time</strong>).</li>
</ul>
</div>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline"></a></h2>
<div class="section" id="set-ee-pose-matrix">
<h3>set_ee_pose_matrix<a class="headerlink" href="#set-ee-pose-matrix" title="Permalink to this headline"></a></h3>
<p><code class="docutils literal notranslate"><span class="pre">set_ee_pose_matrix</span></code> allows the user to specify a desired pose in the form of the homogeneous
transformation matrix, <strong>T_sd</strong>. This method attempts to solve the inverse kinematics of the arm
for the desired pose. If a solution is not found, the method returns False. If the IK problem is
solved successfully, each joint’s limits are checked against the IK solver’s output. If the
solution is valid, the list of joint positions is returned. Otherwise, False is returned.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If an IK solution is found, the method will always return it even if it exceeds joint limits
and returns False. Make sure to take this behavior into account when writing your own scripts.</p>
</div>
</div>
<div class="section" id="set-ee-pose-components">
<h3>set_ee_pose_components<a class="headerlink" href="#set-ee-pose-components" title="Permalink to this headline"></a></h3>
<p>Some users prefer not to think in terms of transformation or rotation matrices. That’s where the
<code class="docutils literal notranslate"><span class="pre">set_ee_pose_components</span></code> method comes in handy. In this method, you define <strong>T_sd</strong> in terms of
the components it represents - specifically the x, y, z, roll, pitch, and yaw of the ‘Body’ frame
with respect to the ‘Space’ frame (where x, y, and z are in meters, and roll, pitch and yaw are in
radians).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If using an arm with less than 6dof, the ‘yaw’ parameter, even if specified, will always be
ignored.</p>
</div>
</div>
<div class="section" id="set-ee-cartesian-trajectory">
<h3>set_ee_cartesian_trajectory<a class="headerlink" href="#set-ee-cartesian-trajectory" title="Permalink to this headline"></a></h3>
<p>When specifying a desired pose using the methods mentioned above, your arm will its end-effector to
the desired pose in a curved path. This makes it difficult to perform movements that are
‘orientation-sensitive’ (like carrying a small cup of water without spilling). To get around this,
the <code class="docutils literal notranslate"><span class="pre">set_ee_cartesian_trajectory</span></code> method is provided. This method defines a trajectory using a
series of waypoints that the end-effector should follow as it travels from its current pose to the
desired pose such that it moves in a straight line. The number of waypoints generated depends on
the duration of the trajectory (a.k.a <strong>moving_time</strong>), along with the period of time between
waypoints (a.k.a <strong>wp_period</strong>). For example, if the whole trajectory should take 2 seconds and the
waypoint period is 0.05 seconds, there will be a total of 2/0.05 = 40 waypoints. Besides for these
method arguments, there is also <strong>wp_moving_time</strong> and <strong>wp_accel_time</strong>. Respectively, these
parameters refer to the duration of time it should take for the arm joints to go from one waypoint
to the next, and the time it should spend accelerating while doing so. Together, they help to
perform smoothing on the trajectory. If the values are too small, the joints will do a good job
following the waypoints but the motion might be very jerky. If the values are too large, the motion
will be very smooth, but the joints will not do a good job following the waypoints.</p>
<p>This method accepts relative values only. So if the end-effector is located at xyz = [0.2, 0, 0.2],
and then the method is called with ‘z=0.3’ as the argument, the new pose will be xyz = [0.2, 0,
0.5].</p>
<p>End-effector poses are defined with respect to the virtual frame <strong>T_sy</strong> as defined above. If you
want the end-effector to move 0.3 meters along the X-axis of <strong>T_sy</strong>, I can call the method with
‘x=0.3’ as the argument, and it will move to xyz = [0.5828, 0, 0.2] with respect to <strong>T_sy</strong>. This
way, you only have to think in 1 dimension. However, if the end-effector poses were defined in the
‘Space’ frame, then relative poses would have to be 2 dimensional. For example, the pose equivalent
to the one above with respect to the ‘Space’ frame would have to be defined as xyz = [0.412, 0.412,
0.2].</p>
</div>
</div>
<div class="section" id="tips-best-practices">
<h2>Tips &amp; Best Practices<a class="headerlink" href="#tips-best-practices" title="Permalink to this headline"></a></h2>
<div class="section" id="control-sequence">
<h3>Control Sequence<a class="headerlink" href="#control-sequence" title="Permalink to this headline"></a></h3>
<p>The recommended way to control an arm through a series of movements from its Sleep pose is as
follows:</p>
<ol class="arabic simple">
<li>Command the arm to go to its Home pose or any end-effector pose where ‘y’ is defined as 0 (so
that the upper-arm link moves out of its cradle).</li>
<li>Command the waist joint until the end-effector is pointing in the desired direction.</li>
<li>Command poses to the end-effector using the <code class="docutils literal notranslate"><span class="pre">set_ee_cartesian_trajectory</span></code> method as many
times as necessary to do a task (pick, place, etc…).</li>
<li>Repeat the above two steps as necessary.</li>
<li>Command the arm to its Home pose.</li>
<li>Command the arm to its Sleep pose.</li>
</ol>
<p>You can refer to the <a class="reference external" href="https://github.com/Interbotix/interbotix_ros_manipulators/blob/main/interbotix_ros_xsarms/examples/matlab_demos/bartender.py" rel="noopener noreferrer" target="_blank">bartender</a> script to see the above method put into action.</p>
</div>
<div class="section" id="making-startup-easier">
<span id="making-startup-easier-label"></span><h3>Making Startup Easier<a class="headerlink" href="#making-startup-easier" title="Permalink to this headline"></a></h3>
<p>The process of starting MATLAB, navigating to the matlab_demos folder, and running the startup
script is tedious. It is recommended to write a bash script to make this process easier. The MATLAB
GUI is also somewhat resource intensive so it is recommended to use the <code class="docutils literal notranslate"><span class="pre">-nodesktop</span></code> flag to run
it in the terminal. An example script is provided:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

/path/to/matlab<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-nodesktop<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-sd<span class="w"> </span>/path/to/matlab_demos<span class="w"> </span><span class="se">\</span>
<span class="w">        </span>-r<span class="w"> </span><span class="s2">&quot;interbotix_matlab_ros_setup&quot;</span>
</pre></div>
</div>
<p>On our development computer, this script looks like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

~/matlab<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-nodesktop<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-nosplash<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-sd<span class="w"> </span>~/interbotix_ws/src/interbotix_ros_manipulators/interbotix_ros_xsarms/examples/matlab_demos<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>-r<span class="w"> </span><span class="s2">&quot;interbotix_matlab_ros_setup&quot;</span>
</pre></div>
</div>
<p>Make sure to make the script executable by running the command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">sudo chmod +x /path/to/script.sh</span>
</pre></div>
</div>
</div>
<div class="section" id="miscellaneous-tips">
<h3>Miscellaneous Tips<a class="headerlink" href="#miscellaneous-tips" title="Permalink to this headline"></a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If using a 6DOF arm, it is also possible to use the <code class="docutils literal notranslate"><span class="pre">set_ee_cartesian_trajectory</span></code> method to
move the end-effector along the ‘Y-axis’ of <strong>T_sy</strong> or to perform ‘yaw’ motion.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Some functions allow you to provide a <strong>custom_guess</strong> parameter to the IK solver. If you know
where the arm should be close to in terms of joint positions, providing the solver with them
will allow it to find the solution faster, more robustly, and avoid joint flips.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The end-effector should not be pitched past +/- 89 degrees as that can lead to unintended
movements.</p>
</div>
</div>
</div>
<div class="section" id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline"></a></h2>
<div class="section" id="matlab-runs-slowly-after-some-time">
<h3>MATLAB runs slowly after some time<a class="headerlink" href="#matlab-runs-slowly-after-some-time" title="Permalink to this headline"></a></h3>
<p>MATLAB does not delete timers when a workspace is cleared. A buildup of timers will accumulate if
not handled properly, and your machine will slow down. To prevent this from occurring, you can run
the <code class="docutils literal notranslate"><span class="pre">stop_timers()</span></code> method of the InterbotixManipulatorXS class at the end of each of your
scripts. Examples of this process are in each of the MATLAB demo scripts. You can also run the
commands <code class="docutils literal notranslate"><span class="pre">stop(timerfindall)</span></code> and <code class="docutils literal notranslate"><span class="pre">delete(timerfindall)</span></code>, though this may have unintended
consequences if you have timers in objects other than the arm.</p>
</div>
<div class="section" id="incoming-connection-failed">
<h3>Incoming Connection Failed<a class="headerlink" href="#incoming-connection-failed" title="Permalink to this headline"></a></h3>
<p>You will see the error <code class="docutils literal notranslate"><span class="pre">incoming</span> <span class="pre">connection</span> <span class="pre">failed:</span> <span class="pre">unable</span> <span class="pre">to</span> <span class="pre">receive</span> <span class="pre">data</span> <span class="pre">from</span> <span class="pre">sender,</span> <span class="pre">check</span>
<span class="pre">sender's</span> <span class="pre">logs</span> <span class="pre">for</span> <span class="pre">details</span></code>. This is just a result from how MATLAB constructs its rosservice
objects and can be safely ignored.</p>
</div>
<div class="section" id="cannot-connect-to-ros-master">
<h3>Cannot connect to ROS master<a class="headerlink" href="#cannot-connect-to-ros-master" title="Permalink to this headline"></a></h3>
<p>You may see the error below, letting you know that ROS is unable to connect to the ROS master. This
means that your ROS_IP or ROS_MASTER_URI is incorrect, or that you just don’t have a ROS process
running. This is commonly seen when you forget to launch interbotix_xsarm_control before
instantiating an Interbotix module object.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">terminate</span><span class="w"> </span><span class="s">called</span><span class="w"> </span><span class="s">after</span><span class="w"> </span><span class="s">throwing</span><span class="w"> </span><span class="s">an</span><span class="w"> </span><span class="s">instance</span><span class="w"> </span><span class="s">of</span><span class="w"> </span><span class="s">&#39;ros::ros1::serverException&#39;</span>
<span class="nb">what</span><span class="p">():</span><span class="w">  </span><span class="nb">std</span><span class="p">::</span><span class="n">exception</span>
<span class="n">Error</span><span class="w"> </span><span class="s">using</span><span class="w"> </span><span class="s">InterbotixRobotXSCore</span><span class="w"> </span><span class="s">(line</span><span class="w"> </span><span class="s">73)</span>
<span class="n">Cannot</span><span class="w"> </span><span class="s">connect</span><span class="w"> </span><span class="s">to</span><span class="w"> </span><span class="s">ROS</span><span class="w"> </span><span class="s">master</span><span class="w"> </span><span class="s">at</span><span class="w"> </span><span class="s">http://ROS_IP:11311.</span><span class="w"> </span><span class="s">Check</span><span class="w"> </span><span class="s">the</span><span class="w"> </span><span class="s">specified</span><span class="w"> </span><span class="s">address</span><span class="w"> </span><span class="s">or</span><span class="w"> </span><span class="s">hostname.</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="video-tutorials">
<h2>Video Tutorials<a class="headerlink" href="#video-tutorials" title="Permalink to this headline"></a></h2>
<div class="section" id="working-with-the-interbotix-matlab-ros-api">
<h3>Working with the Interbotix MATLAB-ROS API<a class="headerlink" href="#working-with-the-interbotix-matlab-ros-api" title="Permalink to this headline"></a></h3>
<div class="video_wrapper align-center" style="padding-bottom: 22.500000%; padding-top: 30px; position: relative; text-align: center; width: 40%">
<iframe allowfullscreen="true" src="https://www.youtube.com/embed/gs4x_G837tI" style="border: 0; height: 100%; left: 0; position: absolute; top: 0; width: 100%">
</iframe></div></div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="python_ros_interface.html" class="btn btn-neutral float-left" title="Python-ROS Interface" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ros1_packages.html" class="btn btn-neutral float-right" title="ROS 1 Open Source Packages" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Trossen Robotics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
     


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>