<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MoveIt2 Configuration &mdash; Interbotix X-Series Arms Documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx_collapse.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tr_style.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Perception Configuration" href="perception_pipeline_configuration.html" />
    <link rel="prev" title="ROS 2 Controllers Configuration" href="ros_control.html" />
   
  <!-- Google Tag Manager (noscript) -->
  <noscript>
    <iframe
    src="https://www.googletagmanager.com/ns.html?id=GTM-PZQLS2V"
    height="0"
    width="0"
    style="display:none;visibility:hidden">
    </iframe>
  </noscript>
  <!-- End Google Tag Manager (noscript) -->

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/logo_xsarms.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../specifications.html">Specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ros_interface.html">ROS Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python_ros_interface.html">Python-ROS Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../matlab_ros_interface.html">MATLAB-ROS Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ros1_packages.html">ROS 1 Open Source Packages</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../ros2_packages.html">ROS 2 Open Source Packages</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="arm_descriptions.html">Arm Descriptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="arm_control.html">Arm Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="simulation_configuration.html">Simulation Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="ros_control.html">ROS 2 Controllers Configuration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">MoveIt2 Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#notes">Notes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="perception_pipeline_configuration.html">Perception Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="moveit_interface_and_api.html">MoveIt2 Interface and API</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_demos.html">Python Demos</a></li>
<li class="toctree-l2"><a class="reference internal" href="joystick_control.html">Joystick Control</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Interbotix X-Series Manipulators Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../ros2_packages.html">ROS 2 Open Source Packages</a></li>
      <li class="breadcrumb-item active">MoveIt2 Configuration</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/TrossenRobotics/interbotix_xsarms_docs/blob/main/ros2_packages/moveit_motion_planning_configuration.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="moveit2-configuration">
<h1>MoveIt2 Configuration<a class="headerlink" href="#moveit2-configuration" title="Permalink to this headline"></a></h1>
<a href="https://github.com/Interbotix/interbotix_ros_manipulators/tree/galactic/interbotix_ros_xsarms/interbotix_xsarm_moveit"
    class="docs-view-on-github-button"
    target="_blank">
    <img src="../_static/GitHub-Mark-Light-32px.png"
        class="docs-view-on-github-button-gh-logo">
    View Package on GitHub
</a><div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline"></a></h2>
<p>This package contains the necessary config files to get any of the many Interbotix X-Series arms
working with MoveIt. This package makes use of the FollowJointTrajectory interface which seems to
work pretty well in both simulation and on the physical robot. An entrypoint launch file is
provided to allow a user to choose whether to have MoveIt work with the simulated version, the
physical robot hardware, or a MoveIt-generated fake robot.</p>
</div>
<div class="section" id="structure">
<h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline"></a></h2>
<img alt="../_images/xsarm_moveit_flowchart_ros2.png" class="align-center" src="../_images/xsarm_moveit_flowchart_ros2.png" />
<p>As shown above, this package builds on top of the <cite>interbotix_xsarm_sim</cite>,
<cite>interbotix_xsarm_control</cite>, and <cite>interbotix_xsarm_descriptions</cite> packages. To get familiar with
those packages, please refer to their documentation. Regarding the MoveIt specific nodes, they are
described below:</p>
<ul class="simple">
<li><strong>move_group</strong> - responsible for planning the trajectories needed to achieve a particular
arm/gripper pose</li>
<li><strong>rviz</strong> - responsible for displaying the robot model and including the MoveIt MotionPlanning
plugin</li>
</ul>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline"></a></h2>
<p>To run this package on the physical robot, enter the command below in a terminal (assuming the
PincherX-100 is being launched).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ros2 launch interbotix_xsarm_moveit xsarm_moveit.launch.py robot_model:<span class="o">=</span>px100 hardware_type:<span class="o">=</span>actual
</pre></div>
</div>
<p>If running this package on a robot simulated in Gazebo Classic, enter the command below in a
terminal (assuming the ReactorX-200 is being launched).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ros2 launch interbotix_xsarm_moveit xsarm_moveit.launch.py robot_model:<span class="o">=</span>rx200 hardware_type:<span class="o">=</span>gz_classic
</pre></div>
</div>
<p>If running this package on a MoveIt generated fake robot, enter the command below in a terminal
(assuming the WidowX-250 is being launched).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ros2 launch interbotix_xsarm_moveit xsarm_moveit.launch.py robot_model:<span class="o">=</span>wx250 hardware_type:<span class="o">=</span>fake
</pre></div>
</div>
<p>This is the bare minimum needed to get up and running. Take a look at the table below to see how to
further customize with other launch file arguments.</p>
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="17%" />
<col width="50%" />
<col width="17%" />
<col width="17%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Description</th>
<th class="head">Default</th>
<th class="head">Choices</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>robot_model</td>
<td>model type of the Interbotix Arm such as ‘wx200’ or ‘rx150’.</td>
<td>&#160;</td>
<td><code class="docutils literal notranslate"><span class="pre">px100</span></code>, <code class="docutils literal notranslate"><span class="pre">px150</span></code>, <code class="docutils literal notranslate"><span class="pre">rx150</span></code>, <code class="docutils literal notranslate"><span class="pre">rx200</span></code>, <code class="docutils literal notranslate"><span class="pre">wx200</span></code>, <code class="docutils literal notranslate"><span class="pre">wx250</span></code>, <code class="docutils literal notranslate"><span class="pre">wx250s</span></code>, <code class="docutils literal notranslate"><span class="pre">vx250</span></code>, <code class="docutils literal notranslate"><span class="pre">vx300</span></code>, <code class="docutils literal notranslate"><span class="pre">vx300s</span></code>, <code class="docutils literal notranslate"><span class="pre">mobile_px100</span></code>, <code class="docutils literal notranslate"><span class="pre">mobile_wx200</span></code>, <code class="docutils literal notranslate"><span class="pre">mobile_wx250s</span></code></td>
</tr>
<tr class="row-odd"><td>robot_name</td>
<td>name of the robot (typically equal to <code class="docutils literal notranslate"><span class="pre">robot_model</span></code>, but could be anything).</td>
<td>LaunchConfig(<code class="docutils literal notranslate"><span class="pre">robot_model</span></code>)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>external_srdf_loc</td>
<td>the file path to the custom semantic description file that you would like to include in the Interbotix robot’s semantic description.</td>
<td>‘’</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>mode_configs</td>
<td>the file path to the ‘mode config’ YAML file.</td>
<td>LocalVar(‘FindPackageShare(pkg= <code class="docutils literal notranslate"><span class="pre">interbotix_xsarm_moveit</span></code>) + ‘config’ + ‘modes.yaml’’)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>use_moveit_rviz</td>
<td>launches RViz with MoveIt’s RViz configuration.</td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-odd"><td>rviz_frame</td>
<td>defines the fixed frame parameter in RViz. Note that if <code class="docutils literal notranslate"><span class="pre">use_world_frame</span></code> is <code class="docutils literal notranslate"><span class="pre">false</span></code>, this parameter should be changed to a frame that exists.</td>
<td><code class="docutils literal notranslate"><span class="pre">world</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>rviz_config_file</td>
<td>file path to the config file RViz should load.</td>
<td>LocalVar(‘FindPackageShare(pkg= <code class="docutils literal notranslate"><span class="pre">interbotix_xsarm_moveit</span></code>) + ‘rviz’ + ‘xsarm_moveit.rviz’’)</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>world_filepath</td>
<td>the file path to the Gazebo ‘world’ file to load.</td>
<td>LocalVar(‘FindPackageShare(pkg= <code class="docutils literal notranslate"><span class="pre">interbotix_common_sim</span></code>) + ‘worlds’ + ‘interbotix.world’’)</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>use_sim_time</td>
<td>tells ROS nodes asking for time to get the Gazebo-published simulation time, published over the ROS topic /clock; this value is automatically set to <code class="docutils literal notranslate"><span class="pre">true</span></code> if using Gazebo hardware.</td>
<td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-odd"><td>base_link_frame</td>
<td>name of the ‘root’ link on the arm; typically <code class="docutils literal notranslate"><span class="pre">base_link</span></code>, but can be changed if attaching the arm to a mobile base that already has a <code class="docutils literal notranslate"><span class="pre">base_link</span></code> frame.</td>
<td><code class="docutils literal notranslate"><span class="pre">base_link</span></code></td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>use_gripper</td>
<td>if <code class="docutils literal notranslate"><span class="pre">true</span></code>, the default gripper is included in the <code class="docutils literal notranslate"><span class="pre">robot_description</span></code> parameter; if <code class="docutils literal notranslate"><span class="pre">false</span></code>, it is left out; set to <code class="docutils literal notranslate"><span class="pre">false</span></code> if not using the default gripper.</td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-odd"><td>show_ar_tag</td>
<td>if <code class="docutils literal notranslate"><span class="pre">true</span></code>, the AR tag mount is included in the <code class="docutils literal notranslate"><span class="pre">robot_description</span></code> parameter; if <code class="docutils literal notranslate"><span class="pre">false</span></code>, it is left out; set to <code class="docutils literal notranslate"><span class="pre">true</span></code> if using the AR tag mount in your project.</td>
<td><code class="docutils literal notranslate"><span class="pre">false</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-even"><td>show_gripper_bar</td>
<td>if <code class="docutils literal notranslate"><span class="pre">true</span></code>, the gripper_bar link is included in the <code class="docutils literal notranslate"><span class="pre">robot_description</span></code> parameter; if <code class="docutils literal notranslate"><span class="pre">false</span></code>, the gripper_bar and finger links are not loaded. Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> if you have a custom gripper attachment.</td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-odd"><td>show_gripper_fingers</td>
<td>if true, the gripper fingers are included in the <code class="docutils literal notranslate"><span class="pre">robot_description</span></code> parameter; if <code class="docutils literal notranslate"><span class="pre">false</span></code>, the gripper finger links are not loaded. Set to <code class="docutils literal notranslate"><span class="pre">false</span></code> if you have custom gripper fingers.</td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-even"><td>use_world_frame</td>
<td>set this to <code class="docutils literal notranslate"><span class="pre">true</span></code> if you would like to load a ‘world’ frame to the <code class="docutils literal notranslate"><span class="pre">robot_description</span></code> parameter which is located exactly at the ‘base_link’ frame of the robot; if using multiple robots or if you would like to attach the ‘base_link’ frame of the robot to a different frame, set this to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code></td>
</tr>
<tr class="row-odd"><td>external_urdf_loc</td>
<td>the file path to the custom urdf.xacro file that you would like to include in the Interbotix robot’s urdf.xacro file.</td>
<td>‘’</td>
<td>&#160;</td>
</tr>
<tr class="row-even"><td>hardware_type</td>
<td>configures the <code class="docutils literal notranslate"><span class="pre">robot_description</span></code> parameter to use the actual hardware, fake hardware, or hardware simulated in Gazebo.</td>
<td><code class="docutils literal notranslate"><span class="pre">actual</span></code></td>
<td><code class="docutils literal notranslate"><span class="pre">actual</span></code>, <code class="docutils literal notranslate"><span class="pre">fake</span></code>, <code class="docutils literal notranslate"><span class="pre">gz_classic</span></code></td>
</tr>
<tr class="row-odd"><td>robot_description</td>
<td>URDF of the robot; this is typically generated by the xacro command.</td>
<td>Command(FindExec(<code class="docutils literal notranslate"><span class="pre">xacro</span></code>) + ‘ ‘ + LocalVar(‘FindPackageShare(pkg= <code class="docutils literal notranslate"><span class="pre">interbotix_xsarm_descriptions</span></code>) + ‘urdf’ + LaunchConfig(<code class="docutils literal notranslate"><span class="pre">robot_model</span></code>)’) + ‘.urdf.xacro ‘ + ‘robot_name:=’ + LaunchConfig(<code class="docutils literal notranslate"><span class="pre">robot_name</span></code>) + ‘ ‘ + ‘base_link_frame:=’ + LaunchConfig(<code class="docutils literal notranslate"><span class="pre">base_link_frame</span></code>) + ‘ ‘ + ‘use_gripper:=’ + LaunchConfig(<code class="docutils literal notranslate"><span class="pre">use_gripper</span></code>) + ‘ ‘ + ‘show_ar_tag:=’ + LaunchConfig(<code class="docutils literal notranslate"><span class="pre">show_ar_tag</span></code>) + ‘ ‘ + ‘show_gripper_bar:=’ + LaunchConfig(<code class="docutils literal notranslate"><span class="pre">show_gripper_bar</span></code>) + ‘ ‘ + ‘show_gripper_fingers:=’ + LaunchConfig(<code class="docutils literal notranslate"><span class="pre">show_gripper_fingers</span></code>) + ‘ ‘ + ‘use_world_frame:=’ + LaunchConfig(<code class="docutils literal notranslate"><span class="pre">use_world_frame</span></code>) + ‘ ‘ + ‘external_urdf_loc:=’ + LaunchConfig(<code class="docutils literal notranslate"><span class="pre">external_urdf_loc</span></code>) + ‘ ‘ + ‘hardware_type:=’ + LaunchConfig(<code class="docutils literal notranslate"><span class="pre">hardware_type</span></code>) + ‘ ‘)</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Permalink to this headline"></a></h2>
<p>Once the MoveIt GUI is fully loaded, take a look at the available planning groups. There should be
two of them - one called ‘interbotix_arm’ and the other called ‘interbotix_gripper’. The
‘interbotix_arm’ group contains the joints needed to plan the trajectories for the whole arm
(excluding the gripper) while the ‘interbotix_gripper’ group contains the joints needed to plan the
trajectories for the gripper (based on the linear distance from the ‘left_finger_link’ to the
‘fingers_link’). There are a few saved poses for each of these groups that be executed such as
‘Home’, ‘Sleep’, and ‘Upright’ poses for the ‘interbotix_arm’ group, and ‘Released’, ‘Grasping’,
and ‘Home’ for the ‘interbotix_gripper’ group (‘Home’ just moves the gripper such that the angular
position of the motor is at 0 radians). Also, it should be noted that the gripper frame of
reference is located at the ‘ee_gripper_link’.</p>
<p>You may not see the Goal State (orange) and Start State (green) queries in the MoveIt by default.
To display them, navigate to the <strong>MotionPlanning -&gt; Planning Request</strong> dropdown in RViz and check
the <strong>Query Start State</strong> and <strong>Query Goal State</strong> checkboxes.</p>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ros_control.html" class="btn btn-neutral float-left" title="ROS 2 Controllers Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="perception_pipeline_configuration.html" class="btn btn-neutral float-right" title="Perception Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Trossen Robotics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
    <!-- Socials -->
     


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>